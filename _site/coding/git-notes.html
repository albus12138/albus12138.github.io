<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         Raphael__
    -->
    <meta charset="utf-8" />
    <title>Git入门 | Raphael's Blog</title>
    <meta name="author" content="Raphael" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Raphael's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Raphael</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
    </div>

    <style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/coding/git-notes" title="Git入门">Git入门</a></h1>
        <p class="entry-date">2015-03-27</p>
        <h2 id="基础篇">【基础篇】</h2>

<p>出处：http://gitref.org/</p>

<h3 id="初始化">初始化</h3>

<p>使用git要做的第一件事就是初始化git代码库了。这里有两种可能：一是自己创建的工程，二是参与别人的工程。对于前者，要做的就是进入到代码的根目录下，执行</p>

<blockquote>
  <pre><code> git init
</code></pre>
</blockquote>

<p>对于后一种情况，则使用</p>

<blockquote>
  <pre><code> git clone {code location}
</code></pre>
</blockquote>

<h3 id="git很干净">git很干净</h3>

<p>git不会像svn一样在每个目录下面都建立一个.svn目录，而只是在代码根目录下建立一个.git目录。所以相应的，当你执行git status的时候，显示出来的是整个工程的代码修改，而不是像svn一样显示当前目录下的修改。</p>

<p>git只建立一个.git目录的好处是，除了根目录下你需要注意这里比原先多了一个文件夹外，你可以很放心地认为“代码就像它看起来的那样”，你把它copy到任意一个地方都可以。而svn则不行，svn的代码目录是不能够拷贝到其他svn代码库中的，因为svn的索引会冲突。git可以让你保持“人生若只如初见”的感受。</p>

<h3 id="git的思维">git的思维</h3>

<p>在git的世界里，代码有三种状态：unstaged, staged 和 committed。</p>

<p>unstaged表示该代码尚未开发完成，staged表示代码开发完成了，准备提交但是尚未提交，committed自然就是提交过的了。</p>

<p>让代码从unstaged变成staged，要通过命令</p>

<blockquote>
  <pre><code> git add {files}
</code></pre>
</blockquote>

<p>和</p>

<blockquote>
  <pre><code> git rm {files}
</code></pre>
</blockquote>

<p>让代码从staged变成committed，自然要使用命令</p>

<blockquote>
  <pre><code> git commit
</code></pre>
</blockquote>

<p>如上几乎就是单人开发的全部了，是不是很简单？不过故事还没讲完，因为世界不只有你自己。</p>

<h2 id="开发流程篇">【开发流程篇】</h2>

<p>出处：http://nvie.com/posts/a-successful-git-branching-model/</p>

<p>git  真正令人为之欢呼的是它原生的分支概念。</p>

<p>创建一个分支这样操作</p>

<blockquote>
  <pre><code> git checkout -b {new branch name}
</code></pre>
</blockquote>

<p>合并某一个分支的修改使用这个命令</p>

<blockquote>
  <pre><code> git merge {branch name}
</code></pre>
</blockquote>

<p>此处应该有掌声！还记得svn中要执行这个操作你要干什么吗？你要先查log，记下要合并的分支中修改的开始版本号和结束版本号，然后在回到trunk目录下写一个我至今都无法记清楚的命令。。。。真是痛苦的回忆！还好现在有git了！</p>

<p>有了基本的分支技能，你需要给自己制定一个规划，如何使用这个强大的分支能力，本篇的《出处》给出了一个很好的模型，我的习惯就由此而来，在这里我就不加赘述了。</p>

<p>以上的所有的操作你都能够独自在自己的机器上完成，但是我们需要一些命令使我们能够和其他人交流代码。首先，你需要给远程的代码库起个别名</p>

<blockquote>
  <pre><code> git remote add {alias} {remote address}
</code></pre>
</blockquote>

<p>你需要拉取远程代码库的某个分支（默认是master）</p>

<blockquote>
  <pre><code> git pull {alias} {branch name}
</code></pre>
</blockquote>

<p>你需要提交代码给远程代码库</p>

<blockquote>
  <pre><code> git push {alias} {branch name}
</code></pre>
</blockquote>

<p>git的命令就是这么简单易懂，完全不需要我解释什么。</p>

<p>有了如上的基础，上手git应该就没有什么问题了，但是要很好的理解，最好还是要把我给出的网址上的内容好好地阅读一下。学好git绝对会让你的生活有序、轻松起来，不要吝惜时间，好好专研一下吧！</p>

<h2 id="ssh篇">【ssh篇】</h2>

<h3 id="ssh原理">ssh原理</h3>

<p>维基百科：<a href="http://en.wikipedia.org/wiki/SSH">ssh</a></p>

<p>个人觉得最直接的好处就是Git每次提交时不用输密码</p>

<h3 id="基本的ssh配置">基本的ssh配置</h3>

<p>GitCafe的帮助文档：如何安装和设置 Git</p>

<p>简要总结一下</p>

<p>1.打开ssh目录，一般是隐藏的 cd ~/.ssh</p>

<p>2.生成密钥文件,这样就会生成默认名字为id_rsa和id_rsa.pub</p>

<blockquote>
  <pre><code> ssh-keygen -t rsa -C "YOUR_EMAIL@YOUREMAIL.COM"
</code></pre>
</blockquote>

<p>(说明：YOUR_EMAIL@YOUREMAIL.COM换成你自己的邮箱)</p>

<p>3.打开公钥文件（id_rsa.pub），并把内容复制至代码托管平台上</p>

<blockquote>
  <pre><code> vim ~/.ssh/id_rsa.pub
</code></pre>
</blockquote>

<p>进入 GitCafe –&gt;账户设置–&gt;SSH 公钥管理设置项，点击添加新公钥 按钮，在 Title 文本框中输入任意字符，在 Key 文本框粘贴刚才复制的公钥字符串，按保存按钮完成操作。</p>

<p>4.测试</p>

<blockquote>
  <pre><code> ssh -T git@gitcafe.com
</code></pre>
</blockquote>

<p>成功应该提示</p>

<blockquote>
  <pre><code> Hi xxxxxx! You"ve successfully authenticated, but GitCafe does not provide shell access.
</code></pre>
</blockquote>

<p>这样就可以只用ssh协议的URL了,一般默认是https协议的，如图点击SSH即可切换：</p>

<p><img src="/images/git-notes/1.jpg" /></p>

<p>这样push代码时就不用再输密码了。</p>

<h3 id="多账号ssh配置">多账号ssh配置</h3>

<p>当你在Github或Gitcafe或Coding都有账号时</p>

<p>假设已经有一个Gitcafe的密钥了，需要需要添加Github的</p>

<p>1.生成指定名字的密钥</p>

<blockquote>
  <pre><code> ssh-keygen -t rsa -C "YOUR_EMAIL@YOUREMAIL.COM" -f ~/.ssh/github
</code></pre>
</blockquote>

<p>命名为github（这里叫什么随意，不要重名即可），然后会生成github和github.pub这两个文件</p>

<p>2.打开公钥文件（id_rsa.pub），并把内容复制至代码托管平台上</p>

<p>3.修改config文件</p>

<blockquote>
  <pre><code> vim ~/.ssh/config
</code></pre>
</blockquote>

<p>4.添加如下代码</p>

<blockquote>
  <pre><code> Host github.com www.github.com
</code></pre>
</blockquote>

<blockquote>
  <pre><code> IdentityFile ~/.ssh/github
</code></pre>
</blockquote>

<p>5.测试</p>

<blockquote>
  <pre><code> ssh -T git@github.com
</code></pre>
</blockquote>

<p>如果是coding的</p>

<blockquote>
  <pre><code> Host coding.net www.coding.net
</code></pre>
</blockquote>

<blockquote>
  <pre><code> IdentityFile ~/.ssh/coding
</code></pre>
</blockquote>

<h3 id="同一平台下的多账号配置">同一平台下的多账号配置</h3>

<p>如果有两个Github账号：</p>

<p>1.也是按照 多账号设置 的方法进行第一第二步
这样你就已经正确的生成好了两个密钥，假设是：github_a和github_b分别对应的是你的账户aaaaaa和账户bbbbbb</p>

<p>2.修改config文件</p>

<blockquote>
  <pre><code> vim ~/.ssh/config
</code></pre>
</blockquote>

<p>添加如下代码</p>

<figure class="highlight"><pre><code class="language-vim" data-lang="vim"><span></span>Host aaaaaa.github.<span class="k">com</span>
HostName github.<span class="k">com</span>
<span class="nb">User</span> git
IdentityFile <span class="p">~</span><span class="sr">/.ssh/</span>github_a
Host bbbbbb.github.<span class="k">com</span>
HostName github.<span class="k">com</span>
<span class="nb">User</span> git
IdentityFile <span class="p">~</span><span class="sr">/.ssh/</span>github_b</code></pre></figure>

<p>3.修改ssh URL
例如原来的url是：git@github.com:aaaaaa/xxxxxx.git</p>

<p>需要改成：git@aaaaaa.github.com:aaaaaa/xxxxxx.git</p>

<p>bbbbbb账号的修改也是如此</p>

<p>最后补充一点（这部分Git熟悉的基本可以略过）：有些童鞋可能在设置这个多账号前已经配置了一个Github的ssh，然后把代码clone下来，配置多账号后，原来的代码就提交不上了。</p>

<p>此时你进入 原来clone的代码文件夹下，执行 git remote -v，即可看到远处资源库路径</p>

<p>如：git@github.com:aaaaaa/xxxxxx.git</p>

<p>执行git remote remove origin删除该远程路径</p>

<p>执行git remote add origin git@aaaaaa.github.com:aaaaaa/xxxxxx.git加上正确的远程仓库。</p>


        <div id="disqus_thread"></div>
		<script type="text/javascript">
		    /* * * CONFIGURATION VARIABLES * * */
		    var disqus_shortname = 'albus12138';
		    
		    /* * * DON'T EDIT BELOW THIS LINE * * */
		    (function() {
		        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		    })();
		</script>
		<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
        
            
            <li><a href="/blog/why-blog">我为什么写博客？</a></li>
            
            
        
        </ul>

        <h2>Coding</h2>
        <ul class="artical-list">
        
        
            
            <li><a href="/coding/python-re">Python正则表达式</a></li>
            
            
        
            
            <li><a href="/coding/xctf-carnival-wp">XCTF嘉年华体验赛 Re部分WriteUp</a></li>
            
            
        
            
            <li><a href="/coding/gctf-wp">GCTF Re&Mobile WriteUp</a></li>
            
            
        
            
            <li><a href="/coding/python-requests">Requests模块</a></li>
            
            
        
            
            <li><a href="/coding/iscc-2017-wp">ISCC2017 WriteUp</a></li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        </ul>

        <h2>Bookmarks</h2>
        <ul class="artical-list">
        
        
            
            <li><a href="/bookmarks/ddos">免费DDOS攻击测试工具</a></li>
            
            
        
            
            <li><a href="/bookmarks/network-traffic-hijacking-2">网络流量攻击的危害</a></li>
            
            
        
            
            <li><a href="/bookmarks/network-traffic-hijacking">网络流量攻击</a></li>
            
            
        
            
            <li><a href="/bookmarks/resouces-for-learn-python">学习Python编程的11个资源</a></li>
            
            
        
            
            <li><a href="/bookmarks/buffer-overflow">缓冲区溢出攻击相关知识</a></li>
            
            
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();
            });
        })
        $(document).ready(function(){
            var id = Math.floor(Math.random()*5)+1;
            $(".aside").css("background-image","url(/images/bg-"+id+".jpg)");            
        })
    </script>
</body>
</html>
